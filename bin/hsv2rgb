#!/usr/bin/env python
# vim: set ft=python
import os.path
import math
import sys
from getopt import getopt

def hsv2rgb(hsv):
    h, s, v = hsv

    Hx = h/60.0
    Pc = math.floor(Hx)
    Sc = Hx-Pc

    a = (1-s)*v
    b = (1-(s*Sc))*v
    c = (1-(s*(1-Sc)))*v

    Pci = int(Pc)
    if Pci == 0:   return (v, c, a)
    elif Pci == 1: return (b, v, a)
    elif Pci == 2: return (a, v, c)
    elif Pci == 3: return (a, b, v)
    elif Pci == 4: return (c, a, v)
    elif Pci == 5: return (v, a, b)

def usage():
    print "usage:", os.path.basename(sys.argv[0]), "[-n] h s v"

normalize = False

opts, args = getopt(sys.argv[1:], "nh")
for opt in opts:
    if opt[0] in ["-n"]:
        normalize = True
    elif opt[0] in ["-h"]:
        usage()
        sys.exit(1)

if not args or len(args) > 3:
    usage()
    sys.exit(1)

h = float(args[0])
s = float(args[1])
v = float(args[2])

if normalize:
    h /= 255.0
    s /= 255.0
    v /= 255.0

r,g,b = hsv2rgb((h, s, v))
if normalize:
    r *= 255
    g *= 255
    b *= 255

print "(%g, %g, %g) = (%g %g %g)" % (h, s, v, r, g, b)

