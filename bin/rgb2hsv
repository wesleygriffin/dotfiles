#!/usr/bin/env python
# vim: set ft=python
import os.path
import sys
from getopt import getopt

def rgb2hsv(rgb):
    r, g, b = rgb

    M = max(max(r, g), b)
    m = min(min(r, g), b)
    C = M-m

    Rp = M-r
    Gp = M-g
    Bp = M-b

    if C > 0:
        Rp /= C
        Gp /= C
        Bp /= C

    Hp = 0
    if   C == 0:            Hp = 0
    elif M == r and m == g: Hp = 5+Bp
    elif M == r and m != g: Hp = 1-Gp
    elif M == g and m == b: Hp = Rp+1
    elif M == g and m != b: Hp = 3-Bp
    elif M == g:            Hp = 3+Gp
    else:                   Hp = 5-Rp

    if Hp >= 6: Hp -= 6;
    H = Hp*60.0

    S = 0
    if M != 0: S = C/M

    V = M

    return (H, S, V)

def usage():
    print "usage:", os.path.basename(sys.argv[0]), "[-n] r g b"

normalize = False

opts, args = getopt(sys.argv[1:], "nh")
for opt in opts:
    if opt[0] in ["-n"]:
        normalize = True
    elif opt[0] in ["-h"]:
        usage()
        sys.exit(1)

if not args or len(args) > 3:
    usage()
    sys.exit(1)

r = float(args[0])
g = float(args[1])
b = float(args[2])

if normalize:
    r /= 255.0
    g /= 255.0
    b /= 255.0

h,s,v = rgb2hsv((r, g, b))
if normalize:
    h *= 255
    s *= 255
    v *= 255

print "(%g, %g, %g) = (%g %g %g)" % (r, g, b, h, s, v)

